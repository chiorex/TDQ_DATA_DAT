---
layout: math
title: リッチのメガンテバグ
update: 2017-06-11
---

## 現象

盗賊本家のボス戦で、リッチが自分のメガンテで __砕け散る__ と、バトル終了後にコマンドの __どうぐ__ や __そうび__ で仲間の名前が消えてしまう

* マホカンタでメガンテを反射すると発生する可能性がある
* メダパニでリッチが混乱していると発生する可能性がある
* バトルに参加したパーティ全員にバグが発生する
* バグが起きてしまったら直すことが出来ない
	* セーブデータに記録されてしまう
	* 不用意にカーソルを動かすとフリーズしてしまう
* リッチが砕け散らなかった場合はバグが起きない


## 発生原理

魔物が1ターンに二度死ぬことによって、
通常ありえない[学習内容（セーブデータ）](ai_save)の個人エリア255番目にフラグが立ってしまっている。
個人エリア255番目はアイテムを渡せないキャラにするフラグであるため、
コマンドの __どうぐ__ や __そうび__ で仲間の名前が消えてしまうことになる。

* リッチの一度目の死亡でワークエリアの魔物IDが-1(=$ff)に初期化された後、
二度目の死亡で魔物ID=255(=$ff)を撃破した扱いになっている
	* パーティ全員の個人エリアにフラグが立つのは自滅のため？
* マネマネのリッチもどきでもバグが発生する可能性がある
* 爆弾岩にはメガンテが効かないのでバグが起きない


## 活用例

危険なバグである反面、様々な現象を起こすことが可能となる。
[コマンドの道具や装備で仲間の名前が消える](bug100)を参照。

## 関連項目

* [バグ](bug)
	* [コマンドの道具や装備で仲間の名前が消える](bug100)
